{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhard\\\\OneDrive\\\\Desktop\\\\CRMSales\\\\SalesCRM\\\\frontend\\\\src\\\\components\\\\Leads\\\\LeadDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { companyFormConfig, contactFormConfig, itLandscapeConfig } from \"../CreateLeads/formConfigs\";\nimport \"./LeadDetails.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LeadDetails = ({\n  leadNumber,\n  onClose\n}) => {\n  _s();\n  const [lead, setLead] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const [editedLead, setEditedLead] = useState({});\n  const [options, setOptions] = useState({});\n  const [newDescription, setNewDescription] = useState({\n    description: \"\",\n    file: null,\n    selectedOption: \"\",\n    radioValue: \"\"\n  });\n  useEffect(() => {\n    const fetchLeadDetails = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8080/api/leads/${leadNumber}`);\n        setLead(response.data);\n        setEditedLead(response.data);\n      } catch (err) {\n        setError(err.message || \"An error occurred while fetching lead details\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLeadDetails();\n  }, [leadNumber]);\n  useEffect(() => {\n    const fetchOptions = async () => {\n      try {\n        const [optionsResponse, userNamesResponse] = await Promise.all([axios.get(\"http://localhost:8080/api/options\"), axios.get(\"http://localhost:8080/api/users\")]);\n        setOptions(prevOptions => ({\n          ...prevOptions,\n          ...optionsResponse.data,\n          bdmOptions: userNamesResponse.data,\n          leadAssignedToOptions: userNamesResponse.data\n        }));\n      } catch (error) {\n        console.error(\"Error fetching options\", error);\n      }\n    };\n    fetchOptions();\n  }, []);\n  const handleInputChange = (e, section, subSection) => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditedLead(prevLead => {\n      let updatedLead = {\n        ...prevLead\n      };\n      if (section === \"itLandscape\" && subSection === \"SAPInstalledBase\") {\n        updatedLead.itLandscape = updatedLead.itLandscape || {};\n        updatedLead.itLandscape.SAPInstalledBase = updatedLead.itLandscape.SAPInstalledBase || {};\n        updatedLead.itLandscape.SAPInstalledBase[name] = value;\n      } else if (subSection) {\n        updatedLead[section] = updatedLead[section] || {};\n        updatedLead[section][subSection] = updatedLead[section][subSection] || {};\n        updatedLead[section][subSection][name] = value;\n      } else {\n        updatedLead[section] = updatedLead[section] || {};\n        updatedLead[section][name] = value;\n      }\n      return updatedLead;\n    });\n  };\n  const handleDescriptionChange = e => {\n    const {\n      name,\n      value,\n      type,\n      files\n    } = e.target;\n    setNewDescription(prev => ({\n      ...prev,\n      [name]: type === \"file\" ? files[0] : value\n    }));\n  };\n  const handleAddDescription = async () => {\n    if (!newDescription.description.trim()) return;\n    try {\n      const formData = new FormData();\n      formData.append(\"description\", newDescription.description);\n      formData.append(\"selectedOption\", newDescription.selectedOption);\n      formData.append(\"radioValue\", newDescription.radioValue);\n      if (newDescription.file) {\n        formData.append(\"file\", newDescription.file);\n      }\n      const response = await axios.post(`http://localhost:8080/api/leads/${leadNumber}/descriptions`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setLead(response.data);\n      setEditedLead(response.data);\n      setNewDescription({\n        description: \"\",\n        file: null,\n        selectedOption: \"\",\n        radioValue: \"\"\n      });\n    } catch (err) {\n      setError(err.message || \"An error occurred while adding a description\");\n    }\n  };\n  const handleSave = async () => {\n    try {\n      var _editedLead$itLandsca;\n      const leadToSave = {\n        ...editedLead,\n        itLandscape: {\n          ...editedLead.itLandscape,\n          SAPInstalledBase: ((_editedLead$itLandsca = editedLead.itLandscape) === null || _editedLead$itLandsca === void 0 ? void 0 : _editedLead$itLandsca.SAPInstalledBase) || {}\n        }\n      };\n      const response = await axios.put(`http://localhost:8080/api/leads/${leadNumber}`, leadToSave);\n      setLead(response.data);\n      setEditMode(false);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"An error occurred while saving changes\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 21\n  }, this);\n  if (!lead) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"No lead found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 21\n  }, this);\n  const renderFields = (config, section, subSection = null) => {\n    return Array.isArray(config) ? config.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: Array.isArray(row) && row.map(field => {\n        var _editedLead$section, _editedLead$section$s, _editedLead$section2, _options$field$option, _editedLead$section3, _editedLead$section3$, _editedLead$section4;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [field.label, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 19\n          }, this), field.type === \"select\" ? /*#__PURE__*/_jsxDEV(\"select\", {\n            name: field.name,\n            value: subSection ? (editedLead === null || editedLead === void 0 ? void 0 : (_editedLead$section = editedLead[section]) === null || _editedLead$section === void 0 ? void 0 : (_editedLead$section$s = _editedLead$section[subSection]) === null || _editedLead$section$s === void 0 ? void 0 : _editedLead$section$s[field.name]) || \"\" : (editedLead === null || editedLead === void 0 ? void 0 : (_editedLead$section2 = editedLead[section]) === null || _editedLead$section2 === void 0 ? void 0 : _editedLead$section2[field.name]) || \"\",\n            onChange: e => handleInputChange(e, section, subSection),\n            disabled: !editMode,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: [\"Select \", field.label]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 23\n            }, this), (_options$field$option = options[field.options]) === null || _options$field$option === void 0 ? void 0 : _options$field$option.map((option, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option,\n              children: option\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 25\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n            type: field.type,\n            name: field.name,\n            value: subSection ? (editedLead === null || editedLead === void 0 ? void 0 : (_editedLead$section3 = editedLead[section]) === null || _editedLead$section3 === void 0 ? void 0 : (_editedLead$section3$ = _editedLead$section3[subSection]) === null || _editedLead$section3$ === void 0 ? void 0 : _editedLead$section3$[field.name]) || \"\" : (editedLead === null || editedLead === void 0 ? void 0 : (_editedLead$section4 = editedLead[section]) === null || _editedLead$section4 === void 0 ? void 0 : _editedLead$section4[field.name]) || \"\",\n            onChange: e => handleInputChange(e, section, subSection),\n            disabled: !editMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }, this)]\n        }, field.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }, this);\n      })\n    }, rowIndex, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }, this)) : null;\n  };\n  const renderContactFields = role => {\n    const fields = [\"name\", \"dlExt\", \"designation\", \"mobile\", \"email\", \"personalEmail\"];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: role.charAt(0).toUpperCase() + role.slice(1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), fields.map(field => {\n        var _editedLead$contactIn, _editedLead$contactIn2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [field.charAt(0).toUpperCase() + field.slice(1), \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: field,\n            value: (editedLead === null || editedLead === void 0 ? void 0 : (_editedLead$contactIn = editedLead.contactInfo) === null || _editedLead$contactIn === void 0 ? void 0 : (_editedLead$contactIn2 = _editedLead$contactIn[role]) === null || _editedLead$contactIn2 === void 0 ? void 0 : _editedLead$contactIn2[field]) || \"\",\n            onChange: e => handleInputChange(e, \"contactInfo\", role),\n            disabled: !editMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, field, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this);\n      })]\n    }, role, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Lead Details - \", lead.leadNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditMode(!editMode),\n        children: editMode ? \"Cancel\" : \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), editMode && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Company Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), renderFields(companyFormConfig, \"companyInfo\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Contact Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), renderContactFields(\"it\"), renderContactFields(\"finance\"), renderContactFields(\"businessHead\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"IT Landscape\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Net New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), renderFields(itLandscapeConfig.netNew, \"itLandscape\", \"netNew\"), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"SAP Installed Base\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), renderFields(itLandscapeConfig.SAPInstalledBase, \"itLandscape\", \"SAPInstalledBase\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Descriptions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"New Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: newDescription.description,\n            onChange: handleDescriptionChange,\n            placeholder: \"Add a new description\",\n            disabled: !editMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"File:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"file\",\n            onChange: handleDescriptionChange,\n            disabled: !editMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Selected Option:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"selectedOption\",\n            value: newDescription.selectedOption,\n            onChange: handleDescriptionChange,\n            disabled: !editMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Radio Value:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"radioValue\",\n            value: newDescription.radioValue,\n            onChange: handleDescriptionChange,\n            disabled: !editMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddDescription,\n          disabled: !editMode,\n          children: \"Add Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"descriptions-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Selected Option\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Radio Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: lead.descriptions && lead.descriptions.map((desc, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: desc.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(desc.createdAt).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: desc.file && desc.file.filename ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: `/api/files/${desc.file.filename}`,\n                  download: true,\n                  children: desc.file.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 25\n                }, this) : \"No file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: desc.selectedOption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: desc.radioValue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n};\n_s(LeadDetails, \"RiQfw+vtkDe6eXeXpvMmH4XvFkk=\");\n_c = LeadDetails;\nexport default LeadDetails;\nvar _c;\n$RefreshReg$(_c, \"LeadDetails\");","map":{"version":3,"names":["React","useState","useEffect","axios","companyFormConfig","contactFormConfig","itLandscapeConfig","jsxDEV","_jsxDEV","LeadDetails","leadNumber","onClose","_s","lead","setLead","loading","setLoading","error","setError","editMode","setEditMode","editedLead","setEditedLead","options","setOptions","newDescription","setNewDescription","description","file","selectedOption","radioValue","fetchLeadDetails","response","get","data","err","message","fetchOptions","optionsResponse","userNamesResponse","Promise","all","prevOptions","bdmOptions","leadAssignedToOptions","console","handleInputChange","e","section","subSection","name","value","target","prevLead","updatedLead","itLandscape","SAPInstalledBase","handleDescriptionChange","type","files","prev","handleAddDescription","trim","formData","FormData","append","post","headers","handleSave","_editedLead$itLandsca","leadToSave","put","_err$response","_err$response$data","children","fileName","_jsxFileName","lineNumber","columnNumber","renderFields","config","Array","isArray","map","row","rowIndex","className","field","_editedLead$section","_editedLead$section$s","_editedLead$section2","_options$field$option","_editedLead$section3","_editedLead$section3$","_editedLead$section4","label","onChange","disabled","option","index","renderContactFields","role","fields","charAt","toUpperCase","slice","_editedLead$contactIn","_editedLead$contactIn2","contactInfo","onClick","netNew","placeholder","descriptions","desc","Date","createdAt","toLocaleString","filename","href","download","_c","$RefreshReg$"],"sources":["C:/Users/bhard/OneDrive/Desktop/CRMSales/SalesCRM/frontend/src/components/Leads/LeadDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  companyFormConfig,\r\n  contactFormConfig,\r\n  itLandscapeConfig,\r\n} from \"../CreateLeads/formConfigs\";\r\nimport \"./LeadDetails.css\";\r\n\r\nconst LeadDetails = ({ leadNumber, onClose }) => {\r\n  const [lead, setLead] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editedLead, setEditedLead] = useState({});\r\n  const [options, setOptions] = useState({});\r\n  const [newDescription, setNewDescription] = useState({\r\n    description: \"\",\r\n    file: null,\r\n    selectedOption: \"\",\r\n    radioValue: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchLeadDetails = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:8080/api/leads/${leadNumber}`\r\n        );\r\n        setLead(response.data);\r\n        setEditedLead(response.data);\r\n      } catch (err) {\r\n        setError(\r\n          err.message || \"An error occurred while fetching lead details\"\r\n        );\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLeadDetails();\r\n  }, [leadNumber]);\r\n\r\n  useEffect(() => {\r\n    const fetchOptions = async () => {\r\n      try {\r\n        const [optionsResponse, userNamesResponse] = await Promise.all([\r\n          axios.get(\"http://localhost:8080/api/options\"),\r\n          axios.get(\"http://localhost:8080/api/users\"),\r\n        ]);\r\n        setOptions((prevOptions) => ({\r\n          ...prevOptions,\r\n          ...optionsResponse.data,\r\n          bdmOptions: userNamesResponse.data,\r\n          leadAssignedToOptions: userNamesResponse.data,\r\n        }));\r\n      } catch (error) {\r\n        console.error(\"Error fetching options\", error);\r\n      }\r\n    };\r\n\r\n    fetchOptions();\r\n  }, []);\r\n\r\n  const handleInputChange = (e, section, subSection) => {\r\n    const { name, value } = e.target;\r\n    setEditedLead((prevLead) => {\r\n      let updatedLead = { ...prevLead };\r\n      if (section === \"itLandscape\" && subSection === \"SAPInstalledBase\") {\r\n        updatedLead.itLandscape = updatedLead.itLandscape || {};\r\n        updatedLead.itLandscape.SAPInstalledBase =\r\n          updatedLead.itLandscape.SAPInstalledBase || {};\r\n        updatedLead.itLandscape.SAPInstalledBase[name] = value;\r\n      } else if (subSection) {\r\n        updatedLead[section] = updatedLead[section] || {};\r\n        updatedLead[section][subSection] =\r\n          updatedLead[section][subSection] || {};\r\n        updatedLead[section][subSection][name] = value;\r\n      } else {\r\n        updatedLead[section] = updatedLead[section] || {};\r\n        updatedLead[section][name] = value;\r\n      }\r\n      return updatedLead;\r\n    });\r\n  };\r\n\r\n  const handleDescriptionChange = (e) => {\r\n    const { name, value, type, files } = e.target;\r\n    setNewDescription((prev) => ({\r\n      ...prev,\r\n      [name]: type === \"file\" ? files[0] : value,\r\n    }));\r\n  };\r\n\r\n  const handleAddDescription = async () => {\r\n    if (!newDescription.description.trim()) return;\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"description\", newDescription.description);\r\n      formData.append(\"selectedOption\", newDescription.selectedOption);\r\n      formData.append(\"radioValue\", newDescription.radioValue);\r\n      if (newDescription.file) {\r\n        formData.append(\"file\", newDescription.file);\r\n      }\r\n\r\n      const response = await axios.post(\r\n        `http://localhost:8080/api/leads/${leadNumber}/descriptions`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n      setLead(response.data);\r\n      setEditedLead(response.data);\r\n      setNewDescription({\r\n        description: \"\",\r\n        file: null,\r\n        selectedOption: \"\",\r\n        radioValue: \"\",\r\n      });\r\n    } catch (err) {\r\n      setError(err.message || \"An error occurred while adding a description\");\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      const leadToSave = {\r\n        ...editedLead,\r\n        itLandscape: {\r\n          ...editedLead.itLandscape,\r\n          SAPInstalledBase: editedLead.itLandscape?.SAPInstalledBase || {},\r\n        },\r\n      };\r\n\r\n      const response = await axios.put(\r\n        `http://localhost:8080/api/leads/${leadNumber}`,\r\n        leadToSave\r\n      );\r\n      setLead(response.data);\r\n      setEditMode(false);\r\n    } catch (err) {\r\n      setError(\r\n        err.response?.data?.error || \"An error occurred while saving changes\"\r\n      );\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>Error: {error}</div>;\r\n  if (!lead) return <div>No lead found</div>;\r\n\r\n  const renderFields = (config, section, subSection = null) => {\r\n    return Array.isArray(config)\r\n      ? config.map((row, rowIndex) => (\r\n          <div className=\"form-row\" key={rowIndex}>\r\n            {Array.isArray(row) &&\r\n              row.map((field) => (\r\n                <div className=\"form-group\" key={field.name}>\r\n                  <label>{field.label}:</label>\r\n                  {field.type === \"select\" ? (\r\n                    <select\r\n                      name={field.name}\r\n                      value={\r\n                        subSection\r\n                          ? editedLead?.[section]?.[subSection]?.[field.name] ||\r\n                            \"\"\r\n                          : editedLead?.[section]?.[field.name] || \"\"\r\n                      }\r\n                      onChange={(e) =>\r\n                        handleInputChange(e, section, subSection)\r\n                      }\r\n                      disabled={!editMode}\r\n                    >\r\n                      <option value=\"\">Select {field.label}</option>\r\n                      {options[field.options]?.map((option, index) => (\r\n                        <option key={index} value={option}>\r\n                          {option}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  ) : (\r\n                    <input\r\n                      type={field.type}\r\n                      name={field.name}\r\n                      value={\r\n                        subSection\r\n                          ? editedLead?.[section]?.[subSection]?.[field.name] ||\r\n                            \"\"\r\n                          : editedLead?.[section]?.[field.name] || \"\"\r\n                      }\r\n                      onChange={(e) =>\r\n                        handleInputChange(e, section, subSection)\r\n                      }\r\n                      disabled={!editMode}\r\n                    />\r\n                  )}\r\n                </div>\r\n              ))}\r\n          </div>\r\n        ))\r\n      : null;\r\n  };\r\n\r\n  const renderContactFields = (role) => {\r\n    const fields = [\r\n      \"name\",\r\n      \"dlExt\",\r\n      \"designation\",\r\n      \"mobile\",\r\n      \"email\",\r\n      \"personalEmail\",\r\n    ];\r\n    return (\r\n      <div key={role} className=\"form-section\">\r\n        <h4>{role.charAt(0).toUpperCase() + role.slice(1)}</h4>\r\n        {fields.map((field) => (\r\n          <div className=\"form-group\" key={field}>\r\n            <label>{field.charAt(0).toUpperCase() + field.slice(1)}:</label>\r\n            <input\r\n              type=\"text\"\r\n              name={field}\r\n              value={editedLead?.contactInfo?.[role]?.[field] || \"\"}\r\n              onChange={(e) => handleInputChange(e, \"contactInfo\", role)}\r\n              disabled={!editMode}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-content\">\r\n        <h2>Lead Details - {lead.leadNumber}</h2>\r\n        <button onClick={onClose}>Close</button>\r\n        <button onClick={() => setEditMode(!editMode)}>\r\n          {editMode ? \"Cancel\" : \"Edit\"}\r\n        </button>\r\n        {editMode && <button onClick={handleSave}>Save Changes</button>}\r\n\r\n        {/* Company Information */}\r\n        <section className=\"form-section\">\r\n          <h3>Company Information</h3>\r\n          {renderFields(companyFormConfig, \"companyInfo\")}\r\n        </section>\r\n\r\n        {/* Contact Information */}\r\n        <section className=\"form-section\">\r\n          <h3>Contact Information</h3>\r\n          {renderContactFields(\"it\")}\r\n          {renderContactFields(\"finance\")}\r\n          {renderContactFields(\"businessHead\")}\r\n        </section>\r\n\r\n        {/* IT Landscape */}\r\n        <section className=\"form-section\">\r\n          <h3>IT Landscape</h3>\r\n          <h4>Net New</h4>\r\n          {renderFields(itLandscapeConfig.netNew, \"itLandscape\", \"netNew\")}\r\n          <h4>SAP Installed Base</h4>\r\n          {renderFields(\r\n            itLandscapeConfig.SAPInstalledBase,\r\n            \"itLandscape\",\r\n            \"SAPInstalledBase\"\r\n          )}\r\n        </section>\r\n\r\n        {/* Descriptions */}\r\n        <section className=\"form-section\">\r\n          <h3>Descriptions</h3>\r\n          <div className=\"form-group\">\r\n            <label>New Description:</label>\r\n            <textarea\r\n              name=\"description\"\r\n              value={newDescription.description}\r\n              onChange={handleDescriptionChange}\r\n              placeholder=\"Add a new description\"\r\n              disabled={!editMode}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>File:</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              onChange={handleDescriptionChange}\r\n              disabled={!editMode}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Selected Option:</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"selectedOption\"\r\n              value={newDescription.selectedOption}\r\n              onChange={handleDescriptionChange}\r\n              disabled={!editMode}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Radio Value:</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"radioValue\"\r\n              value={newDescription.radioValue}\r\n              onChange={handleDescriptionChange}\r\n              disabled={!editMode}\r\n            />\r\n          </div>\r\n          <button onClick={handleAddDescription} disabled={!editMode}>\r\n            Add Description\r\n          </button>\r\n\r\n          <table className=\"descriptions-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Description</th>\r\n                <th>Date</th>\r\n                <th>File</th>\r\n                <th>Selected Option</th>\r\n                <th>Radio Value</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {lead.descriptions &&\r\n                lead.descriptions.map((desc, index) => (\r\n                  <tr key={index}>\r\n                    <td>{desc.description}</td>\r\n                    <td>{new Date(desc.createdAt).toLocaleString()}</td>\r\n                    <td>\r\n                      {desc.file && desc.file.filename ? (\r\n                        <a href={`/api/files/${desc.file.filename}`} download>\r\n                          {desc.file.filename}\r\n                        </a>\r\n                      ) : (\r\n                        \"No file\"\r\n                      )}\r\n                    </td>\r\n                    <td>{desc.selectedOption}</td>\r\n                    <td>{desc.radioValue}</td>\r\n                  </tr>\r\n                ))}\r\n            </tbody>\r\n          </table>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeadDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}